// messages passed alawys look like:
// <kind>|<sender>|<data>
//
// data is in json form

